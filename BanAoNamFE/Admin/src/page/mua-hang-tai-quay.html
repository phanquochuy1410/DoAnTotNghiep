<section>
    <div style="height: 50px; width: auto; background-color: cadetblue; display: flex;">
        <div>
            <div style="float: left;">
                <div class="input-group mb-2" style="margin-top: 10px; margin-left: 20px; float: left;">
                    <input type="text" class="form-control" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m..." ng-model="searchTen"
                        aria-describedby="basic-addon2" ng-change="timKiem()"
                        style="width: 200px; height: 30px; float: left;">
                    <button class="input-group-text" id="basic-addon2" style="width: 20px; height: 30px; float: left;"
                        ng-click="xoa()">‚úò</button>
                </div>
            </div>
            <div style="float: left; margin-top: 10px; margin-left: 30px;display: flex;">
                <button type="button" class="btn btn-warning" style=" height: 30px; " ng-click="addHoaDon()" ng-disabled="checkSoLuong">‚ûï</button>
                <div class="invoice-container">
                    <div id="invoice" ng-repeat="hd in listHD">
                        <a href="#/detail/{{hd.idHoaDon}}" ng-click="detail($event,$index,hd)">
                            <button class="btn btn-warning" style=" height: 30px;">{{hd.maHoaDon}}</button></a>
                    </div>
                </div>
            </div>
        </div>
        <div style="margin-left: 1150px; margin-top: 10px; position: absolute;">
            <button type="button" class="btn btn-outline-warning" style=" height: 30px;" ng-click="showTrue()">Qu√©t
                m√£</button>
            <!-- <button type="button" class="btn btn-outline-warning" style=" height: 30px;"
                ng-click="showFalse()">T·∫Øt</button> -->
        </div>
    </div>

    <div class="col-lg-8" style=" border: 1px solid black; float: left; height: 630px;">
        <div class="rectangles">
            <div class="col-lg-12" style=" height: 350px; ">
                <table>
                    <thead>
                        <tr class="table-secondary">
                            <th scope="col">·∫¢nh</th>
                            <th scope="col">S·∫£n Ph·∫©m</th>
                            <th scope="col">Th√¥ng tin s·∫£n ph·∫©m</th>
                            <th scope="col">ƒê∆°n Gi√°</th>
                            <th scope="col">Gi√° Khuy·∫øn M·∫°i</th>
                            <th scope="col">S·ªë L∆∞·ª£ng</th>
                            <th scope="col">Th√†nh Ti·ªÅn</th>
                            <th scope="col">H√†nh ƒë·ªông</th>
                        </tr>
                    </thead>
                    <tbody ng-repeat="hdct in listHDCT">
                        <tr>
                            <td>
                                <img ng-if="hdct.anh != null" src="/Admin/images/{{hdct.anh}}" style="width: 50px" />
                                <img ng-if="hdct.anh == null && hdct.anh2 != null" src="/Admin/images/{{hdct.anh2}}" style="width: 50px" />
                                <img ng-if="hdct.anh == null && hdct.anh2 == null && hdct.anh3 != null" src="/Admin/images/{{hdct.anh3}}" style="width: 50px" />
                            </td>
                            <td>{{hdct.tenSanPham}}</td>
                            <td>
                                M√†u : {{hdct.mauSac}} <br />
                                K√≠ch c·ª° : {{hdct.kichCo}}
                            </td>
                            <td>{{hdct.thanhTien | currency:'':0}}</td>
                            <td>
                                {{hdct.khuyenMai == null ? "0" : hdct.khuyenMai
                                | currency:'':0}}
                            </td>
                            <td>
                                <input aria-label="quantity" class="input-qty" min="1" ng-model="soLuongTempt[$index]"
                                    ng-change="themSoLuong(hdct, $index)" type="number" style="width: 50px;" />
                                <span style="color: red;" ng-if="failSoLuongAm[$index]">
                                    * S·ªë l∆∞·ª£ng kh√¥ng ƒë∆∞·ª£c √¢m !
                                </span>
                                <span style="color: red;" ng-if="failValidateSl[$index]">
                                    * S·ªë l∆∞·ª£ng h√†ng ƒë·∫∑t v∆∞·ª£t qu√° s·ªë l∆∞·ª£ng hi·ªán c√≥ !
                                </span>
                                <span style="color: red;" ng-if="listCheckTrong[$index]">
                                    * kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng s·ªë l∆∞·ª£ng
                                </span>
                            </td>
                            <td>{{((hdct.thanhTien * soLuongTempt[$index] ) - (hdct.khuyenMai * soLuongTempt[$index])) |
                                currency:'':0}}
                            </td>
                            <td class="text-center">
                                <a ng-click="remove($event,hdct.idHoaDonChiTiet)">
                                    <button type="button" class="btn">
                                        üóëÔ∏è
                                    </button></a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div id="myAlert" class="modal fade" role="dialog" data-bs-backdrop="false">
            <div class="modal-dialog" style="position: fixed; top: 20px; right: 5px">
                <div class="modal-content">
                    <div class="modal-body">
                        ‚ùå H√≥a ƒë∆°n c√≥ m·ªôt s·∫£n ph·∫©m kh√¥ng th·ªÉ x√≥a!
                    </div>
                </div>
            </div>
        </div>
        <div id="myAlert3" class="modal fade" role="dialog" data-bs-backdrop="false">
            <div class="modal-dialog"
                style="position: fixed; width: 400px; height: 300px; margin-top: 250px; margin-left: 600px;">
                <div class="modal-content">
                    <div class="modal-body" style="background-color: lightblue; border-radius: 10px;">
                        <img src="/KhachHang/img/tichss.jpg"
                            style="width: 100px; height: 80px; margin-left: 140px;"><br>
                        <p style="font-size: 30px;font-weight: bold; color: gray; text-align: center;">Thanh to√°n th√†nh
                            c√¥ng !</p><br>
                    </div>
                </div>
            </div>
        </div>
        <div id="myAlert1" class="modal fade" role="dialog" data-bs-backdrop="false">
            <div class="modal-dialog" style="position: fixed; top: 20px; right: 5px ;">
                <div class="modal-content">
                    <div class="modal-body">
                        ‚úÖ Th√™m th√†nh c√¥ng !
                    </div>
                </div>
            </div>
        </div>
        <div id="myAlert2" class="modal fade" role="dialog" data-bs-backdrop="false">
            <div class="modal-dialog" style="position: fixed; top: 20px; right: 5px ;">
                <div class="modal-content">
                    <div class="modal-body">
                        ‚úÖ X√≥a th√†nh c√¥ng !
                    </div>
                </div>
            </div>
        </div>
        <div id="myAlert3" class="modal fade" role="dialog" data-bs-backdrop="false">
            <div class="modal-dialog" style="position: fixed; top: 20px; right: 5px ;">
                <div class="modal-content">
                    <div class="modal-body">
                        ‚úÖ X√≥a th√†nh c√¥ng !
                    </div>
                </div>
            </div>
        </div>
        <div id="myAlert4" class="modal fade" role="dialog" data-bs-backdrop="false">
            <div class="modal-dialog" style="position: fixed; top: 20px; right: 5px ;">
                <div class="modal-content">
                    <div class="modal-body">
                        ‚ùå Vui l√≤ng ch·ªçn h√≥a ƒë∆°n !
                    </div>
                </div>
            </div>
        </div>

        <div id="alertCart" class="modal fade" role="dialog" data-bs-backdrop="false">
            <div class="modal-dialog" style="position: fixed; top: 20px; right: 5px ;">
                <div class="modal-content">
                    <div class="modal-body">
                        ‚ùå S·∫£n ph·∫©m ƒë·∫´ c√≥ trong ƒë∆°n h√†ng !
                    </div>
                </div>
            </div>
        </div>

        <div id="myAlert5" class="modal fade" role="dialog" data-bs-backdrop="false">
            <div class="modal-dialog" style="position: fixed; top: 20px; right: 5px ;">
                <div class="modal-content">
                    <div class="modal-body">
                        ‚ùå S·∫£n ph·∫©m ƒë√£ h·∫øt h√†ng !
                    </div>
                </div>
            </div>
        </div>
        </br>
        </br>
        <div class="col-lg-12" style=" float: left; height: 50px;">
            <div class="form-group col-md-2" style="float: left;">
                <select class="form-control" ng-model="searchTen" style="width: 120px; height: 30px; margin-top: 10px;"
                    ng-change="timKiem()">
                    <option ng-value="''">---S·∫£n ph·∫©m---</option>
                    <option ng-repeat="sp in sanPhams" ng-value="sp.ten">{{sp.ten}}</option>
                </select>
            </div>
            <div class="form-group col-md-2" style="float: left;">
                <select class="form-control" ng-model="searchMauSac"
                    style="width: 120px; height: 30px; margin-top: 10px;" ng-change="timKiem()">
                    <option ng-value="''">---M√†u s·∫Øc---</option>
                    <option ng-repeat="ms in mauSacs" ng-value="ms.ten">{{ms.ten}}</option>
                </select>
            </div>
            <div class="form-group col-md-2" style="float: left;">
                <select class="form-control" ng-model="searchKichCo"
                    style="width: 120px; height: 30px; margin-top: 10px;" ng-change="timKiem()">
                    <option ng-value="''">---K√≠ch c·ª°---</option>
                    <option ng-repeat="kc in kichCos" ng-value="kc.ten">{{kc.ten}}</option>
                </select>
            </div>
        </div>
        <div class="rectangle">
            <div class="col-lg-2 col-md-9 col-sm-12 pb-1" style="float: left;" ng-repeat="sp in listSP">
                <div class="card product-item border-0 mb-4" style="height: 190px;">
                    <div class="image-container">
                        <img ng-if="sp.anh != null" class="img-fluid w-100" src="images/{{sp.anh}}" style="width: 50px; height: 100px;">
                        <img ng-if="sp.anh == null && sp.anh2 != null" class="img-fluid w-100" src="images/{{sp.anh2}}" style="width: 50px; height: 100px;">
                        <img ng-if="sp.anh == null && sp.anh2 == null && sp.anh3 != null" class="img-fluid w-100" src="images/{{sp.anh3}}" style="width: 50px; height: 100px;">
                        <div class="overlay">
                            <a style="text-decoration: none;" href="" ng-click="themSanPham(sp.id)">CH·ªåN</a>
                        </div>
                    </div>
                    <div class="card-body border-left border-right text-center p-0 pt-4 pb-3">
                        <h6 class="text-truncate mb-2" style="font-size: 10px;">{{sp.sanPham}}</h6>
                        <div class="d-flex justify-content-center">
                            <h6 style="font-size: 12px;" ng-if="sp.giaKhuyenMai == 0">{{sp.gia | currency:'':0}}ƒë</h6>
                            <h6 style="font-size: 12px;" ng-if="sp.giaKhuyenMai != 0" class="text-muted ml-2"
                                ng-if="spm.giaKM != 0">
                                <span style="color: black;">{{sp.gia - sp.giaKhuyenMai | currency:'':0}}ƒë
                                    <del style=" color: red; font-size: 10px;">{{sp.gia | currency:'':0}}ƒë</del></span>
                            </h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-lg-4" style=" border: 1px solid black; float: right; height: 630px;">

        <div style="margin-top: 50px;">
            <span style="font-weight: bold; float: left;">H√≥a ƒë∆°n : </span>
            <span style="float: right;"><input type="text" style="width: 50px;" ng-model="x.ma" readonly></span>
            <br>
            <br>
            <span style="font-weight: bold; float: left;">Kh√°ch h√†ng : </span>
            <span style="float: right;">Kh√°ch l·∫ª</span>
            <br>
            <br>
            <span style="font-weight: bold;">T·ªïng m·∫∑t h√†ng : </span>
            <span>{{dh}}</span>
            <span style="float: right;"><input type="text" style="width: 70px;" ng-model="x.tongTien | currency:'':0"
                    readonly>ƒë</span>
            <br>
            <br>
            <div>
                <span style="float: left; margin-top: 10px; font-weight: bold">H√¨nh th·ª©c thanh to√°n :</span>
                <select class="form-select" style="width: 200px; float: right;" ng-model="hinhThuc">
                    <option ng-value="0">Ch·ªçn h√¨nh th·ª©c</option>
                    <option ng-value="1">Ti·ªÅn m·∫∑t</option>
                    <option ng-value="2">Chuy·ªÉn kho·∫£n</option>
                    <option ng-value="3">Ti·ªÅn m·∫∑t v√† chuy·ªÉn kho·∫£n</option>
                </select>
            </div>

            <br>
            <br>
            <div ng-show="hinhThuc == '1'" style="margin-top: 20px;">
                <span style="float: left;margin-top: 10px; font-weight: bold;">Ti·ªÅn kh√°ch tr·∫£ :</span>
                <input class="form-control" ng-change="tienKhach()" placeholder="Ti·ªÅn m·∫∑t"
                    style="width: 200px; float: right;" type="number" ng-model="tienMat">
                <br>
                <br>
                <span style="float: left;margin-top: 20px; font-weight: bold;">Ti·ªÅn th·ª´a : </span>
                <input class="form-control" style="width: 200px; float: right;margin-top: 10px;" readonly type="text"
                    ng-model="tienThua | currency:'':0">
            </div>
            <div ng-show="hinhThuc == '2'" style="margin-top: 20px;">
                <span style="float: left;margin-top: 10px; font-weight: bold;">Ti·ªÅn kh√°ch tr·∫£ :</span>
                <input class="form-control" ng-change="tienKhach()" placeholder="Chuy·ªÉn kho·∫£n "
                    style="width: 200px; float: right;" type="number" ng-model="chuyenKhoan">
                <br>
                <br>
                <span style="float: left;margin-top: 20px; font-weight: bold;">Ti·ªÅn th·ª´a : </span>
                <input class="form-control" style="width: 200px; float: right;margin-top: 10px;" readonly type="text"
                    ng-model="tienThua1 | currency:'':0">
            </div>
            <div ng-show="hinhThuc == '3'" style="margin-top: 20px;">
                <span style="float: left;margin-top: 10px; font-weight: bold;">Ti·ªÅn kh√°ch tr·∫£ :</span>
                <input class="form-control" ng-change="tienKhach()" placeholder="Ti·ªÅn m·∫∑t "
                    style="width: 130px;  float: right;" type="number" ng-model="tienMat1">
                <input class="form-control" ng-change="tienKhach()" placeholder="Chuy·ªÉn kho·∫£n"
                    style="width: 130px;margin-right: 10px; float: right;" type="number" ng-model="chuyenKhoan1">
                <br>
                <br>
                <span style="float: left;margin-top: 20px; font-weight: bold;">Ti·ªÅn th·ª´a : </span>
                <input class="form-control" style="width: 270px; float: right;margin-top: 10px;" readonly type="text"
                    ng-model="tienThua2 | currency:'':0">
            </div>

            <br>
            <br>
            <div style="margin-top: 40px;">
                <span style="float: left; font-weight: bold; font-size: 20px; margin-top: 10px;">T·ªïng ti·ªÅn : </span>
                <span style="font-size: 30px; color: red; float: right;font-weight: bold;">{{tt | currency:'':0}}
                    ƒë</span>
            </div>
            <br>
            <br>
            <div style="margin-top: 100px; margin-left: 80px;">
                <button type="button" class="btn btn-outline-warning" id="animated-button" ng-disabled="checkTrong"
                    style="width: 250px; height: 70px; font-weight: bold; font-size: 25px;" ng-click="thanhToan()">
                    <img src="/KhachHang/img/thanh-toans.jpg" style="width: 70px; height: 40px; float: left" />Thanh
                    to√°n</button>
            </div>
        </div>
    </div>
    <div ng-show="showCame" class="came">
        <div id="barcode-scanner" class="came1"></div>
    </div>
</section>

<style>
    /* .came{
        width: 1px;
        height: 1px;
    } */
    .came {
        position: absolute;
        margin-left: 300px;
        margin-top: 60px;
    }

    #animated-button {
        cursor: pointer;
        position: relative;
        overflow: hidden;
        transition: transform 0.3s ease-out;
    }

    #animated-button:hover {
        transform: scale(1.1);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 10);
    }

    .invoice-container {
        display: flex;
        margin-left: 10px;
        float: left;
    }

    #invoice {
        box-sizing: border-box;
        margin-left: 10px;
    }

    .rectangle {
        width: auto;
        height: 260px;
        border: 1px solid #ccc;
        overflow: auto;
        margin-top: 320px;
    }

    .rectangles {
        width: 800px;
        height: 300px;
        border: 1px solid #ccc;
        overflow: auto;
        margin-top: 10px;
        float: left;
    }

    .image-container {
        position: relative;
        overflow: hidden;
    }

    img {
        width: 100%;
        height: auto;
        display: block;
    }

    .overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .overlay a {
        color: white;
        text-align: center;
        border: 1px solid white;
        font-size: 10px;
        font-weight: bold;
        width: 50px;
        height: 20px;
        cursor: pointer;
    }

    .image-container:hover .overlay {
        opacity: 1;
    }
</style>